# Template file for 'lua54-luasocket'
pkgname=lua54-luasocket
version=3.1.0
revision=1
build_style=gnu-makefile
makedepends="lua54-devel"
depends="lua54"
short_desc="Network support for the Lua language"
maintainer="Orphaned <orphan@voidlinux.org>"
license="MIT"
homepage="https://lunarmodules.github.io/luasocket/"
distfiles="https://github.com/lunarmodules/luasocket/archive/v${version}/luasocket-${version}.tar.gz"
checksum=bf033aeb9e62bcaa8d007df68c119c966418e8c9ef7e4f2d7e96bddeca9cca6e

do_build() {
	make CC=$CC LD=$CC LUAV=5.4 LUAINC=${XBPS_CROSS_BASE}/usr/include/lua5.4/ ${makejobs}
}

do_install() {
	make LUAV=5.4 prefix=/usr DESTDIR=${DESTDIR} ${makejobs} install
}

post_install() {
	vlicense LICENSE
}
